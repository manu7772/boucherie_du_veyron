# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/book/service_container.html
parameters:
    ae_services:           Labo\Bundle\AdminBundle\services\
    site_services:         site\adminsiteBundle\services\

services:
    #service_name:
    #    class: AppBundle\Directory\ClassName
    #    arguments: ["@another_service_name", "plain_value", "%parameter_name%"]

    # fonctionnalités de réponse pour Ajax notamment
    aetools.aeReponse:
        class: %ae_services%aeReponse
        arguments: [@service_container]

    # fonctionnalités de base / boîte à outils
    aetools.aetools:
        class: %ae_services%aetools
        arguments: [@service_container]

    # fonctionnalités de jstree
    aetools.aeJstree:
        class: %ae_services%aeJstree
        arguments: [@service_container]

    # fonctionnalités d'entités BIS
    aetools.aeEntity:
        class: %ae_services%aeServiceEntity
        arguments: [@service_container]

    aetools.aeSubentity:
        class: %ae_services%aeServiceSubentity
        arguments: [@service_container]

    # fonctionnalités nested
    aetools.aeNested:
        class: %ae_services%aeServiceNested
        arguments: [@service_container]

    # fonctionnalités de site
    aetools.aeSite:
        class: %site_services%aeServiceSite
        arguments: [@service_container]

    # fonctionnalités de categorie
    aetools.aeCategorie:
        class: %site_services%aeServiceCategorie
        arguments: [@service_container]

    # fonctionnalités de tag
    aetools.aeTag:
        class: %ae_services%aeServiceTag
        arguments: [@service_container]

    # fonctionnalités de statut
    aetools.aeStatut:
        class: %ae_services%aeServiceStatut
        arguments: [@service_container]

    # fonctionnalités de message
    aetools.aeMessage:
        class: %site_services%aeServiceMessage
        arguments: [@service_container]

    # fonctionnalités de panier
    aetools.aePanier:
        class: %ae_services%aeServicePanier
        arguments: [@service_container]

    #######################
    ### ITEM            ###
    #######################

    # fonctionnalités de item
    aetools.aeItem:
        class: %ae_services%aeServiceItem
        arguments: [@service_container]

    # fonctionnalités de article
    aetools.aeArticle:
        class: %site_services%aeServiceArticle
        arguments: [@service_container]

    # fonctionnalités de pageweb
    aetools.aePageweb:
        class: %site_services%aeServicePageweb
        arguments: [@service_container]

    # fonctionnalités de fiche
    aetools.aeFiche:
        class: %site_services%aeServiceFiche
        arguments: [@service_container]

    #######################
    ### TIER            ###
    #######################

    # fonctionnalités de tier
    aetools.aeTier:
        class: %ae_services%aeServiceTier
        arguments: [@service_container]

    #######################
    ### MEDIA           ###
    #######################

    # fonctionnalités de media
    aetools.aeMedia:
        class: %ae_services%aeServiceMedia
        arguments: [@service_container]

    # fonctionnalités outils manipulation images data
    aetools.aeImagesTools:
        class: %ae_services%aeImages

    # fonctionnalités de image
    aetools.aeImage:
        class: %ae_services%aeServiceImage
        arguments: [@service_container]

    # fonctionnalités de pdf
    aetools.aePdf:
        class: %ae_services%aeServicePdf
        arguments: [@service_container]

    # fonctionnalités de rawfile
    aetools.aeRawfile:
        class: %ae_services%aeServiceRawfile
        arguments: [@service_container]



    #######################
    ### UNITS           ###
    #######################

    # fonctionnalités d'unités
    aetools.aeUnits:
        class: %ae_services%aeUnits

    #######################
    ### CACHE           ###
    #######################

    # fonctionnalités de fixtures
    aetools.aeCache:
        class: %ae_services%aeCache
        arguments: [@service_container]

    #######################
    ### DEBUG           ###
    #######################

    # fonctionnalités de fixtures
    aetools.aeDebug:
        class: %ae_services%aeDebug
        arguments: [@service_container]


    #######################
    ### FIXTURES        ###
    #######################

    # fonctionnalités de fixtures
    aetools.aefixtures:
        class: %ae_services%aeFixtures
        arguments: [@service_container]


    #######################
    ### TWIG EXTENSIONS ###
    #######################

    # Fonctions textes utiles et pratiques pour utilisation dans TWIG
    aetools.textutilities:
        class: %ae_services%twigTools
        arguments: [@service_container]
        tags:
            - { name: twig.extension }

    # Twig extension for dates
    twig.extension.intl:
        class: Twig_Extensions_Extension_Intl
        tags:
            - { name: twig.extension }


    #######################
    ### SUCCESS HANDLER ###
    #######################

    # aetools.success_handler:
    #     class: %ae_services%SuccessHandler
    #     arguments: [@router, @service_container]
    #     public: false

    ###################################
    ### EVENT LISTENER SUR DOCTRINE ENTITIES
    ###################################

    # Utilitaire de gestion sur les entités
    aetools.entityUtils:
        class: %ae_services%entityListener
        arguments: [@service_container]
        tags:
            - { name: doctrine.event_listener, event: postLoad }
            - { name: doctrine.event_listener, event: prePersist }
            - { name: doctrine.event_listener, event: postPersist }
            - { name: doctrine.event_listener, event: preUpdate }
            - { name: doctrine.event_listener, event: postUpdate }
            - { name: doctrine.event_listener, event: preRemove }
            - { name: doctrine.event_listener, event: postRemove }

    ######################
    ### EVENT LISTENER ###
    ######################

    # EventListerner sur paramètres généraux du site
    aetools.site_listener:
        class: %ae_services%siteListener
        arguments: [@service_container]
        tags:
            - { name: kernel.event_listener, event: kernel.controller, method: load }

