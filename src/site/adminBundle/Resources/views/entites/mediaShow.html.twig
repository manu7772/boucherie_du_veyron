{% extends 'siteadminBundle:entites:entiteShow.html.twig' %}
{% set cssjsloads = 'simple' %}
{% set DEVMODE = (app.environment in ['DEV', 'TEST']) or (is_granted('ROLE_SUPER_ADMIN')) %}

{% block page_heading %}
<div class="row wrapper border-bottom white-bg page-heading">
	<div class="col-lg-12 m-t-xs">
		<h2 class="row">
			<div class="col-md-8 ellipsis">{{ (entite_name ~ '.name')|trans|capitalize }} {{ entite.nom|default('#' ~ entite.id) }}</div>
			<div class="col-md-4">
				<a href="{{ path('siteadmin_entite', {entite: entite_name, id: entite.id, action: 'delete'}) }}" type="button" class="btn btn-xs btn-danger btn-outline pull-right need-confirmation" title="{{ 'actions.suppression'|trans|capitalize }}" data-message="{{ 'actions.suppQuestion'|trans({'%name%': entite.nom|default('#' ~ entite.id)})|capitalize }}"><i class="fa fa-times icon-wait-on-click"></i> {{ 'actions.supprimer'|trans|capitalize }}</a>
				{#
				<a href="{{ path('siteadmin_entite', {entite: entite_name, id: entite.id, action: 'edit'}) }}" type="button" class="btn btn-xs btn-warning pull-right"><i class="fa fa-pencil icon-wait-on-click"></i> {{ 'actions.modifier'|trans|capitalize }}</a>
				<a href="{{ path('siteadmin_entite', {entite: entite_name, id: entite.id, action: 'show'}) }}" type="button" class="btn btn-xs btn-white pull-right"><i class="fa fa-eye icon-wait-on-click"></i> {{ 'actions.voir'|trans|capitalize }}</a>
				#}
				<a href="{{ path('siteadmin_entite', {entite: entite_name}) }}" type="button" class="btn btn-xs btn-white pull-right"><i class="fa fa-bars icon-wait-on-click"></i> {{ (entite_name ~ '.backlist_btn')|trans|capitalize }}</a>
				<!-- <a href="{{ path('siteadmin_entite', {entite: entite_name, action: 'create'}) }}" type="button" class="btn btn-xs btn-warning pull-right"><i class="fa fa-plus icon-wait-on-click"></i> {{ (entite_name ~ '.create_btn')|trans|capitalize }}</a> -->
			</div>
		</h2>
		<ol class="breadcrumb ellipsis">
			<li><a href="{{ path('siteadmin_homepage') }}"><strong>{{ 'administration'|trans|capitalize }}</strong></a></li>
			<li><a href="{{ path('siteadmin_entite', {entite: entite_name}) }}"><strong>{{ (entite_name ~ '.name_s')|trans|capitalize }}</strong></a></li>
			<li>{{ entite.nom|default('#' ~ entite.id) }}</li>
		</ol>
	</div>
</div>
{% endblock page_heading %}

{% block content %}
<div class="row">

	<div class="col-md-8">
		<div class="ibox float-e-margins">
			<div class="ibox-content">
				<h2 class="row">
					<div class="col-md-8 ellipsis">{{ entite.nom }}</div>
					<div class="col-md-4">
						<!-- <a href="{{ path('siteadmin_entite', {entite: entite_name, id: entite.id, action: 'delete'}) }}" type="button" class="btn btn-xs btn-danger btn-outline pull-right need-confirmation" title="{{ 'actions.suppression'|trans|capitalize }}" data-message="{{ 'actions.suppQuestion'|trans({'%name%': entite.nom|default('#' ~ entite.id)})|capitalize }}"><i class="fa fa-times icon-wait-on-click"></i> {{ 'actions.supprimer'|trans|capitalize }}</a> -->
						<!-- <a href="{{ path('siteadmin_entite', {entite: entite_name, id: entite.id, action: 'edit'}) }}" type="button" class="btn btn-xs btn-warning pull-right"><i class="fa fa-pencil icon-wait-on-click"></i> {{ 'actions.modifier'|trans|capitalize }}</a> -->
					</div>
				</h2>
				<hr>
				<table class="table table-striped table-bordered table-hover dtr-inline" id="DataTables_Table_0" role="grid" aria-describedby="DataTables_Table_0_info">
					<thead>
						<tr>
							<th>{{ 'table.col.libelle'|trans|capitalize }}</th>
							<th>{{ 'table.col.valeur'|trans|capitalize }}</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><strong>{{ 'table.col.mediatype'|trans|capitalize }}</strong></td>
							<td>{{ entite.mediaType|default('?') }}</td>
						</tr>
						<tr>
							<td><strong>{{ 'table.col.nom'|trans|capitalize }}</strong></td>
							<td>{{ entite.nom }}</td>
						</tr>
						<tr>
							<td><strong>{{ 'table.col.originalnom'|trans|capitalize }}</strong></td>
							<td>{{ entite.originalnom }}</td>
						</tr>
						<tr>
							<td><strong>{{ 'table.col.size'|trans|capitalize }}</strong></td>
							<td>{{ fileSizeDisplay(entite.fileSize) }}</td>
						</tr>
						<tr>
							<td><strong>{{ 'table.col.creation'|trans|capitalize }}</strong></td>
							<td>{{ entite.dateCreation|date(formatDateHeure) }}</td>
						</tr>
						<tr>
							<td><strong>{{ 'table.col.maj'|trans|capitalize }}</strong></td>
							<td>
								{% if entite.dateMaj|default(null) != null %}
								{{ entite.dateMaj|date(formatDateHeure) }}
								{% else %}
								<small><i class='text-muted'>({{ 'table.col.jamais'|trans|capitalize }})</i></small>
								{% endif %}
							</td>
						</tr>
						<tr>
							<td><strong>{{ 'table.col.icone'|trans|capitalize }}</strong></td>
							<td>
								<img src="{{ entite.imgThumbnail(128, 128, 'cut')|raw }}" class="img-thumbnail m-r-xs">
								<img src="{{ entite.imgThumbnail(64, 64, 'cut')|raw }}" class="img-thumbnail m-r-xs">
								<img src="{{ entite.imgThumbnail(32, 32, 'cut')|raw }}" class="img-thumbnail m-r-xs">
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<div class="col-md-4">
		<div class="ibox float-e-margins">
			<div class="ibox-title">
				<h3>{{ 'table.col.visuel'|trans|capitalize }}</h3>
			</div>
			<div class="ibox-content text-center" style='min-height: 180px;'>
				<img src="{{ entite.img|raw }}" class="img-responsive center-block img-rounded">
			</div>
		</div>
	</div>

</div>
{% endblock content %}